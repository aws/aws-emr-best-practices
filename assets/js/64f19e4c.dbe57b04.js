"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[8687],{4450:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>n,metadata:()=>r,toc:()=>d});var o=s(4848),i=s(8453);const n={sidebar_position:1,sidebar_label:"Introduction"},a=void 0,r={id:"bestpractices/Cost Optimizations/Introduction",title:"Introduction",description:"EMR Cost Optimization best practices focus on the continual process of refinement and improvement of a system over its entire lifecycle. From the initial design of your very first proof of concept to the ongoing operation of production workloads, adopting the practices in this document can enable you to build and operate cost-aware systems that achieve business outcomes and minimize costs, thus allowing your business to maximize its return on investment.",source:"@site/docs/bestpractices/1 - Cost Optimizations/Introduction.md",sourceDirName:"bestpractices/1 - Cost Optimizations",slug:"/bestpractices/Cost Optimizations/Introduction",permalink:"/aws-emr-best-practices/docs/bestpractices/Cost Optimizations/Introduction",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/bestpractices/1 - Cost Optimizations/Introduction.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,sidebar_label:"Introduction"},sidebar:"bestpractices",previous:{title:"EMR Best Practices Introduction",permalink:"/aws-emr-best-practices/docs/bestpractices/"},next:{title:"Best Practices",permalink:"/aws-emr-best-practices/docs/bestpractices/Cost Optimizations/best_practices"}},c={},d=[];function l(e){const t={img:"img",li:"li",ol:"ol",p:"p",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.p,{children:"EMR Cost Optimization best practices focus on the continual process of refinement and improvement of a system over its entire lifecycle. From the initial design of your very first proof of concept to the ongoing operation of production workloads, adopting the practices in this document can enable you to build and operate cost-aware systems that achieve business outcomes and minimize costs, thus allowing your business to maximize its return on investment."}),"\n",(0,o.jsx)(t.p,{children:"A cost-optimized workload is one that"}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsx)(t.li,{children:"Meets functional and non functional requirements"}),"\n",(0,o.jsx)(t.li,{children:"Fully utilizes all cluster resources and"}),"\n",(0,o.jsx)(t.li,{children:"Achieves an outcome at the lowest possible price point"}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:"To better understand this, let\u2019s look at an example. Let\u2019s assume we have an ETL job that needs to be completed within 8 hours."}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Sample EMR Job - 1",src:s(4428).A+"",width:"960",height:"540"})}),"\n",(0,o.jsx)(t.p,{children:"In order to meet the requirements of completing the job within 8 hours,  a certain amount of compute resources will be required. This is represented in the graph by the \u201cJob Demand\u201d. Sometimes this is static, where the amount of resources needed is consistent throughout the duration of the job."}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Sample EMR Job - 2",src:s(2903).A+"",width:"960",height:"540"})}),"\n",(0,o.jsx)(t.p,{children:"And sometimes it\u2019s more dynamic, where throughout the job, you have various peaks and valleys depending on the number of tasks that are running at each stage."}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Sample EMR Job - 3",src:s(9976).A+"",width:"960",height:"540"})}),"\n",(0,o.jsx)(t.p,{children:"In order for the job to finish within the 8 hours, it needs enough cluster capacity to meet the jobs compute demand - represented by the blue dotted line."}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Sample EMR Job - 4",src:s(7681).A+"",width:"960",height:"540"})}),"\n",(0,o.jsx)(t.p,{children:"If our cluster capacity is below our jobs compute demand"}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Sample EMR Job - 5",src:s(7736).A+"",width:"960",height:"540"})}),"\n",(0,o.jsx)(t.p,{children:"Our job will be resource constrained and It\u2019ll cause the job to run longer than our 8 hour sla"}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Sample EMR Job - 6",src:s(4595).A+"",width:"960",height:"540"})}),"\n",(0,o.jsx)(t.p,{children:"Now, just being able to meet your SLA is not enough to be cost optimized.  This leads us to our 2nd step of a cost optimized workload - Fully utilizing all cluster resources"}),"\n",(0,o.jsx)(t.p,{children:"Take these next two graphs as an example, in the first case, we have a cluster that has compute capacity well beyond the jobs needs, represented by space in between the jobs demand and cluster capacity"}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Sample EMR Job - 7",src:s(3018).A+"",width:"960",height:"540"})}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Sample EMR Job - 8",src:s(6877).A+"",width:"960",height:"540"})}),"\n",(0,o.jsx)(t.p,{children:"In this 2nd graph,  we have a better match between the clusters capacity and jobs compute demands"}),"\n",(0,o.jsx)(t.p,{children:"The space in between in between two is unused resources.  These are resources that are being charged for but the job does not actually need. Fully utilizing all resources means reducing this space as much as possible."}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Sample EMR Job - 9",src:s(4372).A+"",width:"960",height:"540"})}),"\n",(0,o.jsx)(t.p,{children:"Going back to our job with less predictable workload patterns, a static cluster size may not be the best way to maximize cluster resources, but instead, using something like EMR autoscaling that adjusts cluster capacity based off of your workload demand would be a better fit."}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Sample EMR Job - 10",src:s(7238).A+"",width:"960",height:"540"})}),"\n",(0,o.jsx)(t.p,{children:"In this graph, our cluster scales up and down depending on demand. Our cluster capacity becomes a function of the jobs demand of resources."}),"\n",(0,o.jsx)(t.p,{children:"The last part of being \u201cCost Optimized\u201d is achieving your jobs outcomes at the lowest price point possible."}),"\n",(0,o.jsx)(t.p,{children:"EMR has multiple pricing models that allow you to pay for your resources in the most cost-effective way that suits your needs.  For example, On-Demand, Spot and Commitment discounts - Savings Plans/ Reserved Instances/Capacity"}),"\n",(0,o.jsx)(t.p,{children:"All of these pricing options leverage the exact same infrastructure but depending on which option you choose, the cost of your job will vary significantly. The numbers are just examples, with spot you can get up to 90% off on demand prices and with saving plans or RI, up to 72%."}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Sample EMR Job - 11",src:s(3567).A+"",width:"960",height:"540"})}),"\n",(0,o.jsx)(t.p,{children:"In the next sections, we\u2019ll discuss best practices on choosing the right pricing model for your workload.  For the purpose of this example, regardless of of which option you choose, the cluster compute capacity stays the same."})]})}function p(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},4428:(e,t,s)=>{s.d(t,{A:()=>o});const o=s.p+"assets/images/intro-1-37ec23761732ab5eb6bfb8bb0f146c29.png"},7238:(e,t,s)=>{s.d(t,{A:()=>o});const o=s.p+"assets/images/intro-10-6d8a0a75b3abf1c670c091d6d5c217c5.png"},3567:(e,t,s)=>{s.d(t,{A:()=>o});const o=s.p+"assets/images/intro-11-3263885ae43a43262b4df80025e41d4d.png"},2903:(e,t,s)=>{s.d(t,{A:()=>o});const o=s.p+"assets/images/intro-2-bff58083e298c00a1830a7d48be5ffec.png"},9976:(e,t,s)=>{s.d(t,{A:()=>o});const o=s.p+"assets/images/intro-3-a7bb4e00db0f52daabbe546455ecea59.png"},7681:(e,t,s)=>{s.d(t,{A:()=>o});const o=s.p+"assets/images/intro-4-2c12c7107001176ef1f89f6bbf5559b0.png"},7736:(e,t,s)=>{s.d(t,{A:()=>o});const o=s.p+"assets/images/intro-5-9a0629ad3c23c369be82a8b0f66fbff5.png"},4595:(e,t,s)=>{s.d(t,{A:()=>o});const o=s.p+"assets/images/intro-6-1260db55d24c3085f082489e929dd79e.png"},3018:(e,t,s)=>{s.d(t,{A:()=>o});const o=s.p+"assets/images/intro-7-4be370442a9e41c43a620b5b11b55955.png"},6877:(e,t,s)=>{s.d(t,{A:()=>o});const o=s.p+"assets/images/intro-8-41299d7b49ef7cf0fd1f0b69b0e11f8d.png"},4372:(e,t,s)=>{s.d(t,{A:()=>o});const o=s.p+"assets/images/intro-9-b533ce540042d32ee5d6d333bd3f0ad9.png"},8453:(e,t,s)=>{s.d(t,{R:()=>a,x:()=>r});var o=s(6540);const i={},n=o.createContext(i);function a(e){const t=o.useContext(n);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),o.createElement(n.Provider,{value:t},e.children)}}}]);