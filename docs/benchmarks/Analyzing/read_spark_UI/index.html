<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-benchmarks/Analyzing/read_spark_UI" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.0">
<title data-rh="true">Spark UI and Spark History Server Analysis | AWS Open Data Analytics</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://aws.github.io/aws-emr-best-practices/img/AWS_logo_RGB.png"><meta data-rh="true" name="twitter:image" content="https://aws.github.io/aws-emr-best-practices/img/AWS_logo_RGB.png"><meta data-rh="true" property="og:url" content="https://aws.github.io/aws-emr-best-practices/docs/benchmarks/Analyzing/read_spark_UI"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Spark UI and Spark History Server Analysis | AWS Open Data Analytics"><meta data-rh="true" name="description" content="In this section we’re going to explore the Spark Web UI to understand what are the main sections and information it provides, to better understand how we can leverage this tool to review our benchmark results."><meta data-rh="true" property="og:description" content="In this section we’re going to explore the Spark Web UI to understand what are the main sections and information it provides, to better understand how we can leverage this tool to review our benchmark results."><link data-rh="true" rel="icon" href="/aws-emr-best-practices/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://aws.github.io/aws-emr-best-practices/docs/benchmarks/Analyzing/read_spark_UI"><link data-rh="true" rel="alternate" href="https://aws.github.io/aws-emr-best-practices/docs/benchmarks/Analyzing/read_spark_UI" hreflang="en"><link data-rh="true" rel="alternate" href="https://aws.github.io/aws-emr-best-practices/docs/benchmarks/Analyzing/read_spark_UI" hreflang="x-default"><link rel="stylesheet" href="/aws-emr-best-practices/assets/css/styles.7a6c5961.css">
<script src="/aws-emr-best-practices/assets/js/runtime~main.3d4f5104.js" defer="defer"></script>
<script src="/aws-emr-best-practices/assets/js/main.c56f9e18.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/aws-emr-best-practices/"><div class="navbar__logo"><img src="/aws-emr-best-practices/img/logo.svg" alt="AWS Open Data Analytics" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/aws-emr-best-practices/img/logo.svg" alt="AWS Open Data Analytics" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">AWS Open Data Analytics</b></a><a class="navbar__item navbar__link" href="/aws-emr-best-practices/docs/bestpractices/">Best Practices</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/aws-emr-best-practices/docs/benchmarks/introduction">Benchmarks</a><a class="navbar__item navbar__link" href="/aws-emr-best-practices/docs/utilities/">Utilities</a><a class="navbar__item navbar__link" href="/aws-emr-best-practices/docs/migration/introduction">Migration</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/aws-emr-best-practices/docs/benchmarks/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/aws-emr-best-practices/docs/benchmarks/price_performance">Price-Performance</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/aws-emr-best-practices/docs/benchmarks/benchmarking_variables">Benchmarking Variables</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/aws-emr-best-practices/docs/benchmarks/Running/setting_up_environment">Running your Benchmark</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/aws-emr-best-practices/docs/benchmarks/Analyzing/retrieve_event_logs">Analyzing your Benchmark</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aws-emr-best-practices/docs/benchmarks/Analyzing/retrieve_event_logs">Retrieving Spark Event Logs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/aws-emr-best-practices/docs/benchmarks/Analyzing/read_spark_UI">Reading Spark UI</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/aws-emr-best-practices/docs/benchmarks/Resources/Benchmark_results">Resources</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/aws-emr-best-practices/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Analyzing your Benchmark</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Reading Spark UI</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Spark UI and Spark History Server Analysis</h1>
<p>In this section we’re going to explore the Spark Web UI to understand what are the main sections and information it provides, to better understand how we can leverage this tool to review our benchmark results.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h4>
<p>The Spark Web UI is a web interface that can be found on each EMR on EC2 cluster where Spark is installed. The interface can be accessed in two ways:</p>
<p><em>Spark Driver Web UI</em>* The Spark Driver by default exposes the Spark Web UI using information from the live application. This is the most comprehensive interface, as you can see live data of your applications in terms of disk and memory utilization. You can easily locate and connect to this intefacte by connecting on the YARN Resource Manger and then opening the Application Master URL available for the running Spark application.*</p>
<p><em>Spark History Server</em>* This is a service that Spark provides to review completed or running applications on the cluster. The interface is available on the EMR Primary (MASTER) node of the cluster and can be reached at the following address: <a href="http://master-public-dns-name:18080/" target="_blank" rel="noopener noreferrer">http://master-public-dns-name:18080/</a>. It’s important to note that this interface uses the Spark Event Logs to populate the information that are available only at runtime (e.g. caching) might not be present in this interface.*</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="spark-history-server">Spark History Server<a href="#spark-history-server" class="hash-link" aria-label="Direct link to Spark History Server" title="Direct link to Spark History Server">​</a></h4>
<p>Once opened, the service will show us a summary of all the applications that are stored in the default Spark Event Log directory (<em>hdfs:///var/log/spark/apps</em>). Each application provides summary information as the Spark version used for the job (typically the same version installed on the cluster), the YARN application ID, it’s name (if you defined in your code) and time details to determine the application duration. Specifically the duration field is a useful field as it provides a metrics for the duration of the application since the Spark driver was launched and terminated, excluding additional submission details that are specific for different deployment models, so it can be useful to compare the Spark runtime across different versions or providers.</p>
<p><img loading="lazy" alt="Benchmark - 2" src="/aws-emr-best-practices/assets/images/benchmark-2-9a762b22489ba1c7540364056da8e934.png" width="1795" height="375" class="img_ev3q"></p>
<p>Once selected an application, you’ll be redirected to the corresponding application page where you can have a summarized view of all the Spark Jobs executed in your application. A Spark Job is triggered by a <a href="https://spark.apache.org/docs/latest/rdd-programming-guide.html#actions" target="_blank" rel="noopener noreferrer">Spark RDD Action</a> (or any Spark Dataset API which internally relies on the previously mentioned API) so it can give you a good indication of which portions of your code took more time to execute and you can also use it to compare two jobs executed in different environments or with different configurations to spot differences in terms of time processing. In those last cases is useful to sort your Jobs by Duration using the interface.</p>
<p><img loading="lazy" alt="Benchmark - 3" src="/aws-emr-best-practices/assets/images/benchmark-3-edc134b799c28ede3f5ecfdcc531f0dc.png" width="1796" height="939" class="img_ev3q"></p>
<p>Additionally, this page provides additional information on the top left page:</p>
<p><em>User</em>* The user who launched the application. In Amazon EMR this typically match the hadoop user unless you’re using the Hadoop impersonation.
<em>Total Uptime</em>* Time since the Spark application started till the completion of the last Job
<em>Scheduling Mode</em>* The <a href="https://spark.apache.org/docs/latest/job-scheduling.html#scheduling-within-an-application" target="_blank" rel="noopener noreferrer">internal scheduler</a> used within the Spark Application to execute the Spark Jobs. By default Spark uses a FIFO (First In First Out) scheduler.*</p>
<p>Lastly, this page allows you you to review the lifecycle of your application, by expanding theEvent Timeline** section where you can review how the different Spark Jobs were executed during the time, as also Spark Executors launch and termination, that can give you useful information to detect slow-downs due to the lack of resources (e.g. you’re using the Spark Dynamic allocation along with a cluster managed scaler and the nodes took too much time to be added to the cluster).</p>
<p><img loading="lazy" alt="Benchmark - 4" src="/aws-emr-best-practices/assets/images/benchmark-4-5ff68a2a3055bb9a30c2c40ad562ad2c.png" width="1573" height="395" class="img_ev3q"></p>
<p>Finally the top bar on top of the page (see picture), allows you to review additional information related to the Spark Application.</p>
<p><img loading="lazy" alt="Benchmark - 5" src="/aws-emr-best-practices/assets/images/benchmark-5-d55b45b8efe1fc461ecc8ebfc6a9f8a7.png" width="1582" height="48" class="img_ev3q"></p>
<p>In the next sections, we’re going to review each of them.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="stages">Stages<a href="#stages" class="hash-link" aria-label="Direct link to Stages" title="Direct link to Stages">​</a></h4>
<p>As for the Jobs page, you can review also all the Stages that have been processed in your application. This pages can be reached directly from the Web UI, and in this case it will display all the Stages of the application, or you can select a single Spark Job in theJobs** section if you’re only interested to the Stages processed in an individual Spark Job.</p>
<p>The main Stage page provides information about duration and submission of a stage, along with related tasks processed and aggregated metrics for input/output data read from the stage, along with related shuffle metrics.</p>
<p><img loading="lazy" alt="Benchmark - 6" src="/aws-emr-best-practices/assets/images/benchmark-6-7d2ac0c3fc13fa3da8bfeac5a02d2e4b.png" width="1796" height="860" class="img_ev3q"></p>
<p>If you expand an individual Stage, you’ll be redirected on a more detailed page where you can examine aggregated metrics of the Tasks processed in the stage.</p>
<p><img loading="lazy" alt="Benchmark - 7" src="/aws-emr-best-practices/assets/images/benchmark-7-7522a1d2318d89ac28dbde7d807db54b.png" width="3441" height="1145" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="storage">Storage<a href="#storage" class="hash-link" aria-label="Direct link to Storage" title="Direct link to Storage">​</a></h4>
<p>TheStorage page** contains information about RDD blocks that have been cached or persisted in memory or on the local disks of the cluster. This page will show some details only if you explicitly invoke a persist or cache operation against a Spark Dataframe. More in detail, the page shows for each RDD:</p>
<p><em>Name</em>* Typically a logical name identified by the spark relation that created the RDD blocks
<em>Storage Level</em>* Where the data has been cached (Memory only) or persisted (Memory / Disk / Memory and Disk)
<em>Cache Partitions</em>* Number of RDD partitions cached
<em>Fraction Cached</em>* Percentage of the data in the cache
<em>Size In Memory</em>* Portion of data that have been stored on the Spark Executor Memory
<em>Size On Disk</em>* Portion of data stored on the local disks of the nodes of the cluster*</p>
<p>Below an example of a Spark DataFrame persisted both in Memory and on local Disks, with serialized and replicated data (StorageLevel.MEMORY_AND_DISK_SER_2).</p>
<p><img loading="lazy" alt="Benchmark - 8" src="/aws-emr-best-practices/assets/images/benchmark-8-b6be688b49996891e8ff7f2ec88643d0.png" width="1563" height="425" class="img_ev3q"></p>
<p>Besides, you can can also access a more detailed paged about the cached element by selecting the RDD of interest. In this case a new page will be opened, with additional information about the distribution and storage footprint of the object along with storage locations of the cached blocks.</p>
<p><img loading="lazy" alt="Benchmark - 9" src="/aws-emr-best-practices/assets/images/benchmark-9-f4133c16fd2c6cdb628f4ca1c8e23ebe.png" width="1563" height="1007" class="img_ev3q"></p>
<p>As mentioned, this information are typically available only on a running application, so either if your application is caching some data, you might not be able to see this information if you open a completed application in the Spark History UI.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="environment">Environment<a href="#environment" class="hash-link" aria-label="Direct link to Environment" title="Direct link to Environment">​</a></h4>
<p><img loading="lazy" alt="Benchmark - 10" src="/aws-emr-best-practices/assets/images/benchmark-10-10a9a1429b2528f7fc5bff6f9617fd31.png" width="1796" height="699" class="img_ev3q"></p>
<p>TheEnvironment** page display all the main configurations that have been used to execute the Spark Application. Within this section there are seven sections:</p>
<p><em>Runtime Information</em>* Core details about the Java and Scala versions used to run the job
<em>Spark Properties</em>* Contains Spark configurations defined while launching the application and retrieved from the <em>/etc/spark/conf/spark-defaults.conf</em> configuration file. Additional Spark main configurations that are mandatory to run a job are also visualized with their defaults if not overridden.
<em>Resource Profiles</em>* Contains profiles for the Spark Executors requests that are going to be submitted to the Resource Manager where the job will run (e.g. Hadoop, Kubernetes, etc.)
<em>Hadoop Properties</em>* As for the Spark section, it contains Hadoop configurations required by the job as detected by the Hadoop configurations files, typically stored in <em>/etc/hadoop/conf/</em>.
<em>System Properties</em>* Environmental variables and java properties that are configured in the Spark Drivers and Executors.
<em>Metric Properties</em>* Spark metrics configurations as defined while launching the application, or inferred from the <em>/etc/spark/conf/metrics.properties</em> configuration file.
<em>Classpath Entries</em>* Contains JAR dependencies used by Spark and the Application*</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="executors">Executors<a href="#executors" class="hash-link" aria-label="Direct link to Executors" title="Direct link to Executors">​</a></h4>
<p>Within theExecutors** page, you can find aggregated statistics and details about all the Spark Task that have been processed in the job. In detail, the page contains two main sections: Summary and Executors.</p>
<p>TheSummary** section provide aggregated information across all the Spark Executors. This main box can give you an idea of Executors terminated and that were active within the application lifecycle. On the other side, theExecutor** box gives you the same information (with additional details) aggregated for each executor (driver included) that was used in the application.</p>
<p><img loading="lazy" alt="Benchmark - 11" src="/aws-emr-best-practices/assets/images/benchmark-11-983e97e60cffc5dae1fcdf7f6cfbeac5.png" width="2147" height="944" class="img_ev3q"></p>
<p>There are several information available in this page, and they can typically be useful when sizing or trying to optimize an application in terms of consumption. Below a list of the most important parameters:</p>
<p><em>Storage Memory</em>* Identifies the memory used / total memory available in the executor memory for storing cached data. By default this corresponds to 0.5 of the Spark Memory defined as (<strong>Container Heap Memory - Reserved Memory) * spark.memory.fraction</strong>
<em>On Heap Storage Memory</em>* Similar to the previous entry, but also provides a split across On Heap and Off Heap Storage Memory used
<em>Disk Used
**
<em>Peak JVM Memory</em></em> Provides an aggregated view of the memory utilization across the Spark Driver/Executor utilization. This includes both Spark Storage and Execution memory and Reserved Memory.
<em>Peak Execution Memory</em>* Shows the memory utilization for the Spark Execution Memory. This portion of the memory is used by Spark to process tasks and is the memory the get spilled on the disks when Spark requires more memory to complete a task
<em>Peak Storage Memory</em>* This highlights the peak memory utilization ot the Storage Memory used for caching RDDs
<em>Cores</em>* Number of CPU cores available in the executors launched. The number of cores is typically a static value defined while launching a Spark application (unless you’re using the EMR hetherogeneous executors), and defines the maximum number of tasks that can be processed in parallel on the Executor
<em>Active Tasks</em>* Number of Spark tasks currently running on the executor
<em>Failed Tasks</em>* Number of Spark tasks that failed on the executor
<em>Complete Tasks</em>* Aggregated total count of all the tasks processed by an executor
<em>Total Tasks</em>* Overall total number of Spark tasks processed (active + failed + complete)
<em>Task Time (GC Time)</em>* Aggregated time required to process the task that were running on the executors. This also includes Garbage Collection aggregated time. When the GC Time is greater than 10% of the Task time the box will be displayed with a red background to highlight an excessive number of GC operations
<em>Input</em>* Bytes read from the Executors from a Storage source (e.g. HDFS, Amazon S3, etc.)
<em>Shuffle Read</em>* Total bytes of shuffle data read from an Executor. This includes both local and remote shuffle data
*Shuffle Write**Total bytes of shuffle data written on the local disk of the Spark Executor
**</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="sqldataframe">SQL/DataFrame<a href="#sqldataframe" class="hash-link" aria-label="Direct link to SQL/DataFrame" title="Direct link to SQL/DataFrame">​</a></h4>
<p>Finally, the SQL/DataFrame page is another important page, which summarize all Spark Queries executed in a Spark Application. This page is only visible in the UI if your application is using Dataset or DataFrame Spark APIs. If you don’t see this page in your application, you can infer the following information:</p>
<ul>
<li>Your application is using the old RDD APIs</li>
<li>Your application migth not be using Spark at its best as most of the Spark optimizations techniques are applied by the Spark Catalyst Optimizer that is only used when working with Dataset/ DataFrame APIs. So if possible try to upgrade your application to use the new APIs.</li>
</ul>
<p>The summary page provides, a description of the Query ID, its duration and the Spark Jobs that were launched to execute the specific query (Job IDs)</p>
<p><img loading="lazy" alt="Benchmark - 12" src="/aws-emr-best-practices/assets/images/benchmark-12-53a0c3844142f73589e6e2b5f2331d36.png" width="2112" height="827" class="img_ev3q"></p>
<p>If you select a single query, you’ll be redirected to a more detailed page where you can examine a visual graph of the Spark operations performed in the application.</p>
<p><img loading="lazy" alt="Benchmark - 13" src="/aws-emr-best-practices/assets/images/benchmark-13-a3d42e6dff16f9222918bb5065d333e8.png" width="1133" height="1136" class="img_ev3q"></p>
<p>The graph can simplify the analysis on an application as each stage provides aggregated information about the number of rows and data processed. Additionally, you can also review the Spark Plans generated by the application expanding the Details section below the graph.</p>
<p><img loading="lazy" alt="Benchmark - 14" src="/aws-emr-best-practices/assets/images/benchmark-14-811122fd5353970ed2e9b2153cf256e3.png" width="3418" height="1034" class="img_ev3q"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/benchmarks/Analyzing/read_spark_UI.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/aws-emr-best-practices/docs/benchmarks/Analyzing/retrieve_event_logs"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Retrieving Spark Event Logs</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/aws-emr-best-practices/docs/benchmarks/Resources/Benchmark_results"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Benchmark Results</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Get Involved</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/aws/aws-emr-best-practices/tree/main" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Built with ❤️ at AWS  <br> © 2024 Amazon.com, Inc. or its affiliates. All Rights Reserved</div></div></div></footer></div>
</body>
</html>